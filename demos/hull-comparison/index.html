<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Concave vs Convex Hull Â· Snap.svg</title>
    <meta name="copyright" content="Copyright  2013 Adobe Systems Incorporated. All rights reserved.
 
 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at
 
 http://www.apache.org/licenses/LICENSE-2.0
 
 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.">
    <style>
        :root {
            color-scheme: dark;
            font-family: "Segoe UI", "Helvetica Neue", sans-serif;
        }
        * {
            box-sizing: border-box;
        }
        body {
            margin: 0;
            min-height: 100vh;
            background: linear-gradient(135deg, #0f172a 0%, #020617 60%, #020617 100%);
            color: #e2e8f0;
        }
        header {
            padding: 32px clamp(24px, 5vw, 80px) 16px;
        }
        header h1 {
            margin: 0 0 12px;
            font-size: clamp(2rem, 4vw, 3rem);
        }
        header p {
            margin: 0;
            color: #cbd5f5;
            max-width: 760px;
            line-height: 1.6;
        }
        main {
            display: grid;
            grid-template-columns: minmax(320px, 360px) 1fr;
            gap: 32px;
            padding: 0 clamp(24px, 5vw, 80px) 48px;
        }
        .card {
            background: rgba(15, 23, 42, 0.8);
            border-radius: 18px;
            border: 1px solid rgba(148, 163, 184, 0.2);
            padding: 24px;
            backdrop-filter: blur(12px);
        }
        svg {
            width: 100%;
            min-height: 620px;
            border-radius: 24px;
            border: 1px solid rgba(148, 163, 184, 0.2);
            background: radial-gradient(circle at top, #0b1120 0%, #020617 70%);
            box-shadow: 0 30px 90px rgba(2, 6, 23, 0.7);
        }
        .stat-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 12px;
            margin-top: 20px;
        }
        .stat {
            border: 1px solid rgba(148, 163, 184, 0.2);
            border-radius: 12px;
            padding: 12px 14px;
            background: rgba(15, 23, 42, 0.6);
        }
        .stat span {
            font-size: 0.7rem;
            text-transform: uppercase;
            letter-spacing: 0.08em;
            color: #94a3b8;
        }
        .stat strong {
            display: block;
            font-size: 1.4rem;
            margin-top: 6px;
        }
        label {
            display: block;
            text-transform: uppercase;
            letter-spacing: 0.08em;
            color: #94a3b8;
            margin-top: 16px;
            margin-bottom: 8px;
        }
        .value-pill {
            float: right;
            font-size: 0.75rem;
            letter-spacing: 0;
            color: #e2e8f0;
        }
        input[type="range"] {
            width: 100%;
        }
        button, select {
            width: 100%;
            padding: 10px 14px;
            border-radius: 10px;
            border: 0;
            font-size: 0.95rem;
            font-weight: 600;
            cursor: pointer;
        }
        button {
            color: #0f172a;
            background: #34d399;
            margin-top: 12px;
        }
        select {
            background: rgba(15, 23, 42, 0.6);
            border: 1px solid rgba(148, 163, 184, 0.4);
            color: #e2e8f0;
        }
        ul.tips {
            margin: 20px 0 0;
            padding-left: 20px;
            color: #cbd5f5;
        }
        .legend {
            display: flex;
            gap: 16px;
            margin-top: 18px;
            flex-wrap: wrap;
        }
        .legend span {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            font-size: 0.9rem;
            color: #cbd5f5;
        }
        .swatch {
            width: 16px;
            height: 16px;
            border-radius: 4px;
        }
    </style>
    <script src="../../dist/snap.svg-min.js"></script>
</head>
<body>
    <header>
        <h1>Concave vs Convex Hull</h1>
        <p>This lab contrasts <code>Snap.hull</code> (hull.js) with <code>Snap.convexHull</code> for the same point cloud. Adjust concavity, shuffle datasets, and inspect the impact on area, perimeter, and centroid calculations powered by <code>Snap.polygons</code>.</p>
    </header>
    <main>
        <div class="card">
            <label for="dataset">Dataset</label>
            <select id="dataset">
                <option value="clusters">Loose clusters</option>
                <option value="ring">Ring and spokes</option>
                <option value="arc">Long arc</option>
            </select>
            <label for="concavity">Concavity threshold</label>
            <input id="concavity" type="range" min="10" max="200" step="5" value="60">
            <label for="pointTarget">Point count target <span class="value-pill" id="pointTargetValue">32</span></label>
            <input id="pointTarget" type="range" min="6" max="120" step="1" value="32">
            <button id="shuffle">Regenerate points</button>
            <div class="stat-list">
                <div class="stat">
                    <span>Points</span>
                    <strong id="pointCount">0</strong>
                </div>
                <div class="stat">
                    <span>Concave area</span>
                    <strong id="concaveArea">0</strong>
                </div>
                <div class="stat">
                    <span>Convex area</span>
                    <strong id="convexArea">0</strong>
                </div>
                <div class="stat">
                    <span>Hull efficiency</span>
                    <strong id="efficiency">0%</strong>
                </div>
                <div class="stat">
                    <span>Concave perimeter</span>
                    <strong id="concavePerimeter">0</strong>
                </div>
                <div class="stat">
                    <span>Convex perimeter</span>
                    <strong id="convexPerimeter">0</strong>
                </div>
            </div>
            <div class="legend">
                <span><span class="swatch" style="background:#34d399"></span>Concave hull</span>
                <span><span class="swatch" style="background:#f87171"></span>Convex hull</span>
            </div>
            <ul class="tips">
                <li>Concave hulls hug the dataset closely but may expose gaps for small concavity values.</li>
                <li>Convex hulls are guaranteed to be minimal convex polygons but often waste empty area.</li>
                <li>The centroid markers use <code>Snap.polygons.polygonCentroid</code> to show the balance point of each hull.</li>
            </ul>
        </div>
        <svg id="comparison" viewBox="0 0 960 620" role="img" aria-label="Concave and convex hull comparison"></svg>
    </main>
    <script src="comparison.js"></script>
</body>
</html>
